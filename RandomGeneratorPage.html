<!DOCTYPE html>
<html>
    <head>
    <title>Random Generator</title>
        <script>
            
            function getVariable() {
                var number = parseInt(document.getElementById("numOfItems").value);
                var choices = document.getElementById("choices");
                
                for (var i = 0; i < number; i++) {
                    var input = document.createElement("input");
                    input.setAttribute("id", i);
                    input.setAttribute("placeholder", "Choice: " + (i + 1));
                    input.setAttribute("style", "position: relative; margin-right: 10px; margin-top: 10px;");
                    choices.appendChild(input)
                }
                var button = document.createElement("input");
                var buttonDiv = document.getElementById("buttonChoice");
                button.setAttribute("type", "button");
                button.setAttribute("id", "choiceButton");
                button.setAttribute("value", "Generate Your Choice!");
                button.setAttribute("onclick", "generateChoice()");
                button.setAttribute("style", "background-color: LightSkyBlue");
                buttonDiv.appendChild(button);
            }
            function createArray(number) {
                var inputs = [];
                for (var i = 0; i < number; i++) {
                    var inputValue = document.getElementById(i).value;
                    inputs.push(inputValue);
                }
                return inputs;
            }
            function createExitButton() {
                exitButton = document.createElement("button");
                exitButton.setAttribute("type", "button");
                exitButton.setAttribute("style", "background-color: LightSkyBlue")
                exitButton.innerHTML = '<a href = "https://docs.google.com/document/d/1lRX08KfooogJ5UWpGvHhUAu1y28BKMNt7fEHm4FpRlQ/edit"> Return Home</a>'
                var exitButtonDiv = document.getElementById("buttonExit");
                exitButtonDiv.appendChild(exitButton);
            }
            var counter = 0;
            function generateChoice() {
                var number = parseInt(document.getElementById("numOfItems").value);
                if (counter == 0) {
                    inputs = createArray(number);
                    createExitButton();
                }
                
                if (counter < number) {
                    var randomNumber = Math.floor(Math.random() * inputs.length);
                    var randomInput = inputs[randomNumber];
                    inputs.splice(randomNumber, 1);
                    var choiceDiv = document.getElementById("randomChoice");
                    heading = document.createElement("h4");
                    heading.innerHTML = randomInput;
                    choiceDiv.appendChild(heading);
                }
                else if (counter == number) {
                    var choiceDiv = document.getElementById("randomChoice");
                    heading = document.createElement("h2");
                    heading.setAttribute("style", "color: blue")
                    heading.innerHTML = "That was the last choice! Return to the main page or start over!";
                    choiceDiv.appendChild(heading);
                }
                counter += 1;
                
            }
        
    </script>
    </head>
        <body style = "background-color: lightcyan;margin-left: auto;margin-right: auto;width: 1450px;" >
            <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
            <h1><center>Welcome to the Random Generator!</center></h1>
            <img src = "Images/blue_feather.png" alt = "Random" width = "200" height = "200" style = "position:relative;float: left;margin-left: 100px;margin-top: 10px;">
            <form>
                <div style = "text-align: center;">
                    <label for="numOfItems" style = "position:relative;margin-top: 100px;"><font size = "+2">Number of choices:</font></label>
                    <input type="number" id="numOfItems" style = "height:20px; width:175px; position:relative;margin-top: 50px;"><br><br>
                    <input type = "button" id = "generateFillIns" value = "Submit!" style = "background-color: lightskyblue;" onclick = "getVariable()">
                </div>
                
                <div id= "choices" style = "text-align:center;position:relative;margin-top: 100px;"></div>
                <div id= "buttonDivider">
                    <div id = "buttonChoice" style ="text-align: left;position:relative;margin-top: 10px;margin-left: 300px;">
                    </div>

                    <div id = "buttonExit" style ="text-align: right;position:relative;margin-top: 10px;margin-right: 300px;">
                    </div>
                </div>
                <div id= "randomChoice" style = "text-align:center;position:relative;"></div>
                
            </form>

            
        </body>
</html>